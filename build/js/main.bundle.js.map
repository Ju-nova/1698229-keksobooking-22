{"version":3,"sources":["webpack://keksobooking/./source/js/data.js","webpack://keksobooking/./source/js/filter.js","webpack://keksobooking/./source/js/util.js","webpack://keksobooking/./source/js/messages.js","webpack://keksobooking/./source/js/similar-adverts.js","webpack://keksobooking/./source/js/map.js","webpack://keksobooking/./source/js/server.js","webpack://keksobooking/./source/js/images-form.js","webpack://keksobooking/./source/js/form.js","webpack://keksobooking/./source/js/main.js"],"names":["centerCoordinates","mapFilter","document","querySelector","housingType","housingPrice","housingRooms","housingGuests","housingFeatures","filterForPrice","low","middle","high","any","declOfNum","number","words","isEnterEvent","evt","key","isEscEvent","resetStyleAndInnerElement","element","standartElement","innerHTML","removeAttribute","main","successTemplate","content","errorTemplate","similarCardTemplate","createCard","card","similarCard","cloneNode","cardAvatar","author","src","avatar","remove","cardTitle","offer","textContent","title","cardAddress","address","cardPrice","price","cardType","type","cardRoomsGuests","rooms","guests","cardTime","checkin","checkout","cardDescription","description","featureList","features","i","length","feature","createElement","featureClass","classList","add","appendChild","photoList","photos","photo","CenterMapPin","iconUrl","iconSize","iconAnchor","MapPin","formAddress","buttonReset","getAddressDefault","value","map","L","mainPinIcon","icon","mainPinMarker","marker","lat","lng","draggable","pins","createPins","adverts","count","advert","location","addTo","bindPopup","push","deletePins","forEach","pin","createMap","async","disabledForm","on","enableForm","setView","tileLayer","attribution","setAttribute","newAddressForm","target","getLatLng","toFixed","fetch","then","response","ok","json","mapFiltersDisabled","guest","featuresList","filteredAdd","cb","_","debounce","newAmountAdvert","updatePins","addEventListener","filteringOffers","filter","typeFilter","priceFilter","String","roomFilter","guestFilter","filters","includes","featureFilter","Array","from","querySelectorAll","filteringAdverts","err","errorMessage","message","style","position","left","right","zIndex","margin","padding","textAlign","maxWidth","backgroundColor","border","fontSize","onLoadError","preventDefault","resetForm","FILE_TYPES","avatarInput","photoInput","avatarPreview","photoPreview","newAvatarPreview","newPhotoPreview","getPreviewFileImage","input","preview","file","files","some","it","endsWith","getMatches","name","toLowerCase","reader","FileReader","display","justifyContent","alignItems","minWidth","offsetWidth","result","maxHeight","offsetHeight","readAsDataURL","checkHours","roomToCapaсity","1","2","3","100","disableFormItem","item","disabled","mapFilters","mapFiltersSelect","mapFiltersFieldset","inputFieldset","enableFormItem","typePrice","types","Object","keys","prices","values","inputPrice","selectType","syncronizeTypePrice","placeholder","min","selectTimeIn","selectTimeOut","synchronizeTimeIn","synchronizeTimeOut","selectRoomNumber","valueOptions","guestOptions","synchronizeGuestsRooms","option","selected","room","selectedType","setFormHandler","defineSelected","defaultSelectRoomGuest","inputTitle","reset","reCreateMap","LatLng","setLatLng","success","fail","valueLength","setCustomValidity","reportValidity","validity","rangeOverflow","max","rangeUnderflow","successFormMessage","removeEventListener","setTimeout","errorFormMessage","errorButton","onFail","body","FormData","method","catch"],"mappings":"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","file":"main.bundle.js","sourcesContent":["const AMOUNT_ADVERT = 10;\nconst DELAY_TIME = 500;\nconst GET_DATA_URL = 'https://22.javascript.pages.academy/keksobooking/data';\nconst SEND_DATA_URL = 'https://22.javascript.pages.academy/keksobooking';\nconst STYLE_MAP = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\nconst COPYRIGTH_MAP = '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\nconst centerCoordinates = {\n  lat: 35.68955,\n  lng: 139.69222,\n}\n\n\nexport {AMOUNT_ADVERT,DELAY_TIME, GET_DATA_URL, SEND_DATA_URL, centerCoordinates, STYLE_MAP, COPYRIGTH_MAP}\n","/* global _:readonly */\nimport {deletePins, createPins, map} from './map.js'\nimport {AMOUNT_ADVERT, DELAY_TIME} from './data.js';\n\nconst mapFilter = document.querySelector('.map__filters');\nconst housingType = mapFilter.querySelector('#housing-type');\nconst housingPrice = mapFilter.querySelector('#housing-price');\nconst housingRooms = mapFilter.querySelector('#housing-rooms');\nconst housingGuests = mapFilter.querySelector('#housing-guests');\nconst housingFeatures = mapFilter.querySelector('#housing-features');\n\n\nconst changeMapFiltersForm = (cb) => {\n  mapFilter.addEventListener('change', () => {\n    cb();\n  });\n}\n\nconst filterForPrice = {\n  low: [0, 10000],\n  middle: [10000, 50000],\n  high: [50000, 1000000],\n  any: [0, 1000000],\n}\n\nconst typeFilter  = (advert, filter) => {\n  if (filter === 'any' || advert.offer.type === filter) {\n    return true;\n  }\n  return false;\n}\n\nconst priceFilter = (advert, filter) => {\n  if (advert.offer.price >= filterForPrice[filter][0] && advert.offer.price < filterForPrice[filter][1]) {\n    return true;\n  }\n  else if (filter === 'any') {\n    return true;\n  }\n  return false;\n}\n\nconst roomFilter = (advert, filter) => {\n  if (filter === 'any' || filter === String(advert.offer.rooms)) {\n    return true;\n  }\n  return false;\n}\n\nconst guestFilter = (advert, filter) => {\n  if (filter === 'any' || filter === String(advert.offer.guests)) {\n    return true;\n  }\n  return false;\n}\n\nconst featureFilter = (advert, filters) => {\n  for (const filter of filters) {\n    if (!advert.offer.features.includes(filter)) {\n      return false\n    }\n  }\n  return true;\n}\n\nconst filteringAdverts = (pins, adverts) => {\n  let type = 'any';\n  let price = 'any';\n  let rooms = 'any';\n  let guest = 'any';\n  let featuresList = [];\n  let filteredAdd = adverts;\n\n  const updatePins = () => {\n    deletePins(pins);\n    const newAmountAdvert = filteredAdd.length < AMOUNT_ADVERT ?\n      filteredAdd.length : AMOUNT_ADVERT;\n    pins =  createPins(map, filteredAdd, newAmountAdvert)\n  }\n\n  const debounceUpdatePins = changeMapFiltersForm(_.debounce(\n    () => updatePins(), DELAY_TIME,\n  ));\n\n  const filteringOffers = () => filteredAdd = adverts\n    .filter((advert) => typeFilter(advert, type))\n    .filter((advert) => priceFilter(advert, price))\n    .filter((advert) => roomFilter(advert, rooms))\n    .filter((advert) => guestFilter(advert, guest))\n    .filter((advert) => featureFilter(advert, featuresList));\n\n  housingType.addEventListener('change', (evt) => {\n    type = evt.target.value;\n    filteringOffers();\n    debounceUpdatePins;\n  })\n\n  housingPrice.addEventListener('change', (evt) => {\n    price = evt.target.value;\n    filteringOffers();\n    debounceUpdatePins;\n  })\n\n  housingRooms.addEventListener('change', (evt) => {\n    rooms = evt.target.value;\n    filteringOffers();\n    debounceUpdatePins;\n  })\n\n  housingGuests.addEventListener('change', (evt) => {\n    guest = evt.target.value;\n    filteringOffers();\n    debounceUpdatePins;\n  })\n\n  housingFeatures.addEventListener('change', () => {\n    featuresList = Array\n      .from(housingFeatures.querySelectorAll('input:checked'))\n      .map((advert) => advert.value);\n\n    filteringOffers();\n    debounceUpdatePins;\n  })\n}\n\n\nexport {filteringAdverts, changeMapFiltersForm };\n\n\n","// Функция, возвращающая случайное целое число из переданного диапазона включительно\n// и возвращающая случайное число с плавающей точкой из переданного диапазона включительно.\nconst getRandomNumber = (min, max, numberSymbols ) => {\n  const preResult = (Math.random() * (max - min) + min);\n  if (numberSymbols){\n    return Number(preResult.toFixed(numberSymbols));\n  }\n\n  return Math.round(preResult);\n};\n\n// получаем случайный элемент из массива\nconst getArrayRandElement = (array) => {\n  const rand = Math.floor(Math.random() * array.length);\n  return array[rand];\n}\n\n// создаем массив случайной длины с неповторяющимися значениями\nconst getRandomArray = (array) => {\n  const newArray = array.slice();\n\n  for (let i = newArray.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const swap = newArray[j];\n    newArray[j] = newArray[i];\n    newArray[i] = swap;\n  }\n\n  const length = getRandomNumber(1, newArray.length - 1);\n  return newArray.slice(0, length);\n};\n\n//функция для окончаний существительных\nconst declOfNum = (number, words) => {\n  return words[(number % 100 > 4 && number % 100 < 20) ? 2 : [2, 0, 1, 1, 1, 2][(number % 10 < 5) ? number % 10 : 5]];\n}\n\n\nconst isEnterEvent = (evt) => {\n  return evt.key === 'Enter';\n};\n\nconst isEscEvent = (evt) => {\n  return evt.key === 'Escape' || evt.key === 'Esc';\n};\n\nconst resetStyleAndInnerElement = (element, standartElement) => {\n  element.innerHTML = standartElement.innerHTML;\n  element.removeAttribute('style');\n}\n\nexport {getRandomNumber, getArrayRandElement, getRandomArray, declOfNum, isEnterEvent, isEscEvent, resetStyleAndInnerElement };\n","import {isEnterEvent, isEscEvent} from './util.js';\n\n\n//сообщение для ошибочной загрузки карты(данные с сервера не получены)\nconst onLoadError = (errorMessage) => {\n  const message = document.createElement('div');\n  const map = document.querySelector('.map__canvas')\n\n  message.style.position = 'fixed';\n  message.style.left = '0';\n  message.style.right = '0';\n  message.style.zIndex = '1000';\n  message.style.margin = '0 auto';\n  message.style.padding = '20px';\n  message.style.textAlign = 'center';\n  message.style.maxWidth = '600px';\n  message.style.backgroundColor = 'white';\n  message.style.border = '4px solid red';\n  message.style.fontSize = '20px';\n\n  message.textContent = errorMessage;\n  map.appendChild(message);\n}\n\n//успех для формы\nconst main = document.querySelector('main');\nconst successTemplate = document.querySelector('#success').content.querySelector('.success')\n\nconst onSuccess = () =>{\n  const successFormMessage = successTemplate.cloneNode(true);\n\n  successFormMessage.style.zIndex = '1000';\n\n  main.appendChild(successFormMessage);\n  successFormMessage.addEventListener('click', () => {\n    successFormMessage.remove();\n  });\n\n  successFormMessage.removeEventListener('click', () => {\n    successFormMessage.remove();\n  });\n\n  document.addEventListener('keydown', (evt) => {\n    if (isEscEvent(evt)) {\n      evt.preventDefault();\n      successFormMessage.remove()\n    }\n  });\n\n  document.removeEventListener('keydown', (evt) => {\n    if (isEscEvent(evt)) {\n      evt.preventDefault();\n      successFormMessage.remove()\n    }\n  });\n\n\n  setTimeout(() => {\n    successFormMessage.remove();\n  }, 5000);\n\n}\n\n//ошибка для формы\nconst errorTemplate = document.querySelector('#error').content.querySelector('.error')\n\nconst onFail = () =>{\n  const errorFormMessage = errorTemplate.cloneNode(true);\n  errorFormMessage.style.zIndex = '1000';\n  main.appendChild(errorFormMessage);\n  const errorButton = errorFormMessage.querySelector('.error__button');\n  errorButton.addEventListener('click', () => errorFormMessage.remove());\n  errorButton.removeEventListener('click', () => errorFormMessage.remove())\n  errorButton.addEventListener('keydown', (evt) => {\n    if (isEnterEvent(evt)) {\n      errorFormMessage.remove()\n    }\n  })\n  errorButton.removeEventListener('keydown', (evt) => {\n    if (isEnterEvent(evt)) {\n      errorFormMessage.remove()\n    }\n  })\n}\n\nexport { onLoadError, onSuccess, onFail }\n","import {declOfNum} from './util.js';\n\nconst similarCardTemplate = document.querySelector('#card')// сам шаблон\n  .content\n  .querySelector('.popup'); //элемент внутри шаблона, в котором заменяем контент\n\n//наполняем карточку-попап из значений объекта\nconst createCard = (card) => {\n  const similarCard = similarCardTemplate.cloneNode(true);\n\n  const cardAvatar = similarCard.querySelector('.popup__avatar');\n  (card.author.avatar) ? cardAvatar.src = card.author.avatar : cardAvatar.remove();//тернарный оператор(если элемент undefined, то удаляем его), если нет, то заполняем контентом или другое\n\n  const cardTitle = similarCard.querySelector('.popup__title');\n  (card.offer.title) ? cardTitle.textContent = card.offer.title : cardTitle.remove();\n\n  const cardAddress = similarCard.querySelector('.popup__text--address');\n  (card.offer.address) ? cardAddress.textContent = card.offer.address : cardAddress.remove();\n\n  const cardPrice = similarCard.querySelector('.popup__text--price');\n  (card.offer.price) ? cardPrice.textContent = `${card.offer.price} ₽/ночь` : cardPrice.remove();\n\n  const cardType = similarCard.querySelector('.popup__type');\n  (card.offer.type) ? cardType.textContent = card.offer.type : cardType.remove();\n\n  const cardRoomsGuests = similarCard.querySelector('.popup__text--capacity');\n  (card.offer.rooms && card.offer.guests) ? cardRoomsGuests.textContent = `${card.offer.rooms} ${declOfNum(card.offer.rooms, ['комната', 'комнаты', 'комнаты'])}\n   для ${card.offer.guests} ${declOfNum(card.offer.guests, ['гостя', 'гостей', 'гостей'])}` : cardRoomsGuests.remove();\n\n  const cardTime = similarCard.querySelector('.popup__text--time');\n  (card.offer.checkin && card.offer.checkout) ? cardTime.textContent = `Заезд после  ${card.offer.checkin},\n   выезд до ${card.offer.checkout}` : cardTime.remove();\n\n  const cardDescription = similarCard.querySelector('.popup__description');\n  (card.offer.description) ? cardDescription.textContent = card.offer.description : cardDescription.remove();\n\n  // создаем элементы списка в соотсветствии с массивом фич\n  const featureList = similarCard.querySelector('.popup__features');\n  if(card.offer.features){\n    featureList.innerHTML = '';\n    for (let i = 0; i < card.offer.features.length; i++) {\n      const feature = document.createElement('li');\n      const featureClass = `popup__feature--${card.offer.features[i]}`;\n      feature.classList.add('popup__feature', featureClass);\n      featureList.appendChild(feature);\n    }\n  } else featureList.remove();\n\n  // создаем изображения  в соответствии с массивом путей картинок\n  const photoList = similarCard.querySelector('.popup__photos');\n  if(card.offer.photos){\n    photoList.innerHTML = '';\n    for (let i = 0; i < card.offer.photos.length; i++) {\n      const photo = similarCardTemplate.querySelector('.popup__photo').cloneNode(true);\n      photo.src = card.offer.photos[i];\n      photoList.appendChild(photo);\n    }\n  } else photoList.remove();\n\n  return similarCard;\n};\n\nexport {createCard};\n\n","/* global L:readonly */\n\nimport { filteringAdverts } from './filter.js';\nimport {disabledForm, enableForm, resetForm} from './form.js';\nimport { onLoadError } from './messages.js';\nimport { getAdvertsFromServer } from './server.js';\nimport {createCard} from './similar-adverts.js';\nimport {AMOUNT_ADVERT, centerCoordinates,STYLE_MAP, COPYRIGTH_MAP} from './data.js';\n\nconst CenterMapPin = {\n  iconUrl: 'img/main-pin.svg',\n  iconSize: [50, 82],\n  iconAnchor: [25, 82],\n}\nconst MapPin = {\n  iconUrl: 'img/pin.svg',\n  iconSize: [25, 41],\n  iconAnchor: [13, 41],\n}\n\nconst formAddress = document.querySelector('#address');\nconst form = document.querySelector('.ad-form');\n\nconst buttonReset = form.querySelector('.ad-form__reset');\nconst getAddressDefault = () =>{\n  formAddress.value = `${centerCoordinates.lat} , ${centerCoordinates.lng}`;\n}\n\nconst map = L.map('map-canvas');\n//устанавливаем маркер и иконку в центр карты\nconst mainPinIcon = L.icon({\n  iconUrl: CenterMapPin.iconUrl,\n  iconSize: CenterMapPin.iconSize,\n  iconAnchor: CenterMapPin.iconAnchor,\n});\n\nconst mainPinMarker = L.marker(\n  {\n    lat: centerCoordinates.lat,\n    lng: centerCoordinates.lng,\n  },\n  {\n    draggable: true,\n    icon: mainPinIcon,\n  },\n);\n\nconst pins = [];\nconst createPins = (map, adverts, count) => {\n\n  for (let i = 0; i < count; i++) {\n    const advert = adverts[i];\n    const {location} = advert;\n    const icon = L.icon({\n      iconUrl: MapPin.iconUrl,\n      iconSize: MapPin.iconSize,\n      iconAnchor: MapPin.iconAnchor,\n    });\n\n    const marker = L.marker(\n      {\n        lat:location.lat,\n        lng:location.lng,\n      },\n      {\n        icon,\n      },\n    );\n\n    marker\n      .addTo(map)\n      .bindPopup(createCard(advert));\n\n    pins.push(marker)\n  }\n\n  return pins;\n}\n\nconst deletePins = (pins) => pins.forEach(pin => pin.remove())\n\n//функция для создания карты\nconst createMap = async () =>{\n  //форма недоступна, пока не загрузится карта\n  disabledForm();\n\n  //загружаем карту, и делаем форму доступной\n  map.on('load', () => {\n    enableForm();\n  }).setView({\n    lat: centerCoordinates.lat,\n    lng: centerCoordinates.lng,\n  }, 10);\n\n  L.tileLayer(\n    STYLE_MAP,\n    {\n      attribution: COPYRIGTH_MAP,\n    },\n  ).addTo(map);\n\n  mainPinMarker.addTo(map);\n\n  //запрещаем ручное редактирование формы\n  formAddress.setAttribute('readonly', 'true');\n\n  //добавляем координаты маркера в форму\n  getAddressDefault();\n\n  //добавляем координаты передвинутого маркера в форму\n  mainPinMarker.on('move', (evt) => {\n    const newAddressForm = evt.target.getLatLng();\n    formAddress.value = `${(newAddressForm.lat).toFixed(5)}, ${(newAddressForm.lng).toFixed(5)}`;\n\n  });\n\n  // setCoatClick(_.debounce(\n  //   () => renderSimilarList(wizards),\n  //   RERENDER_DELAY,\n  // ));\n\n  //добавляем маркеры и заполняем балун со случайными объявлениями\n  try {\n    const adverts = await getAdvertsFromServer();\n\n    const pins = createPins(map, adverts, AMOUNT_ADVERT);\n    // _.debounce(filteringAdverts(pins, adverts), 1000)\n    filteringAdverts(pins, adverts);\n\n\n  } catch (err) {\n    onLoadError('Данные не пришли с сервера. Обновите страницу')\n  }\n  buttonReset.addEventListener('click', (evt) => {\n    evt.preventDefault();\n    resetForm();\n  })\n}\n\n//для сброса пинов при ресет\nconst removePins = () => {\n  pins.forEach((pin) => {\n    pin.remove();\n  })\n}\n\nconst reCreateMap = async () =>{\n  removePins();\n  createMap();\n  enableForm();\n}\nexport {createMap, getAddressDefault, map, deletePins, createPins, mainPinMarker, AMOUNT_ADVERT, centerCoordinates, reCreateMap}\n","import {mapFiltersDisabled, resetForm} from './form.js';\nimport {GET_DATA_URL, SEND_DATA_URL} from './data.js';\n\n//получаем данные с сервера для карты\nconst getAdvertsFromServer = () => fetch(GET_DATA_URL)\n  .then((response) => {\n    if (response.ok) {\n      return response.json();\n    } else {\n      mapFiltersDisabled();\n    }\n  });\n\n///отправляем данные из формы\nconst sendData = (onSuccess, onFail, body) => {\n  fetch(\n    SEND_DATA_URL,\n    {\n      method: 'POST',\n      body,\n    },\n  )\n    .then((response) => {\n      if (response.ok) {\n        onSuccess();\n        resetForm();\n      } else {\n        onFail();\n      }\n    })\n    .catch(() => {\n      onFail();\n    });\n};\n\n\nexport {getAdvertsFromServer, sendData}\n\n","import {resetStyleAndInnerElement} from './util.js';\n\nconst FILE_TYPES = ['gif', 'jpg', 'jpeg', 'png'];\n\nconst avatarInput = document.querySelector('.ad-form-header__input');\nconst photoInput = document.querySelector('.ad-form__input');\nconst avatarPreview = document.querySelector('.ad-form-header__preview');\nconst photoPreview = document.querySelector('.ad-form__photo');\nconst newAvatarPreview = avatarPreview.cloneNode(true);\nconst newPhotoPreview = photoPreview.cloneNode(true);\n\nconst resetPreviewImages = () => {\n  resetStyleAndInnerElement(avatarPreview, newAvatarPreview);\n  resetStyleAndInnerElement(photoPreview, newPhotoPreview);\n}\n\nconst getMatches = (file) => {\n  return FILE_TYPES.some((it) => {\n    return file.endsWith(it);\n  })\n}\n\nconst getPreviewFileImage = (input, preview) => {\n  const file = input.files[0];\n  const fileName = file.name.toLowerCase();\n\n  if (getMatches(fileName)) {\n    const reader = new FileReader();\n\n    reader.addEventListener('load', () => {\n      preview.style.display = 'flex';\n      preview.style.justifyContent = 'center';\n      preview.style.alignItems = 'center';\n      preview.style.minWidth = preview.offsetWidth + 'px';\n\n      preview.innerHTML = '';\n\n      const element = document.createElement('img');\n\n      element.src = reader.result;\n      element.style.maxWidth = preview.offsetWidth + 'px';\n      element.style.maxHeight = preview.offsetHeight+ 'px';\n\n      preview.appendChild(element);\n    });\n\n    reader.readAsDataURL(file);\n  }\n}\n\navatarInput.addEventListener('change', () => {\n  getPreviewFileImage(avatarInput, avatarPreview);\n});\n\nphotoInput.addEventListener('change', () => {\n  getPreviewFileImage(photoInput, photoPreview);\n});\n\nexport { resetPreviewImages };\n","/* global L:readonly */\nimport {sendData} from './server.js';\nimport {map, getAddressDefault, mainPinMarker, centerCoordinates, reCreateMap} from './map.js';\nimport { resetPreviewImages} from './images-form.js';\n\n// массив с временем заселения.отъезда\nconst checkHours = [\n  '12:00',\n  '13:00',\n  '14:00',\n];\n\nconst AdvertTitleLength = {\n  MIN : 30,\n  MAX : 100,\n}\n\nconst roomToCapaсity = {\n  1: [1],\n  2: [1, 2],\n  3: [1, 2, 3],\n  100: [0],\n};\n\nconst form = document.querySelector('.ad-form');\n\nconst  disableFormItem = (item) =>{\n  for (let i = 0; i < item.length; i++) {\n    const disableItem = item[i];\n    disableItem.disabled = true;\n  }\n};\n\nconst mapFilters = document.querySelector('.map__filters');\nconst mapFiltersSelect =  mapFilters.querySelectorAll('.map__filter');\nconst mapFiltersFieldset =  mapFilters.querySelector('.map__features');\n\nconst mapFiltersDisabled = () =>{\n  mapFilters.classList.add('ad-form--disabled');\n  mapFilters.disabled = true;\n  disableFormItem(mapFiltersSelect);\n  disableFormItem(mapFiltersFieldset);\n}\n\nconst inputFieldset = form.querySelectorAll('fieldset');\n\n//делаем форму недоступной\nconst disabledForm = () => {\n  form.classList.add('ad-form--disabled');\n  mapFiltersDisabled();\n  disableFormItem(inputFieldset);\n}\n\nconst  enableFormItem = (item) =>{\n  for (let i = 0; i < item.length; i++) {\n    const disableItem = item[i];\n    disableItem.disabled = false;\n  }\n};\nconst mapFiltersEnabled = () =>{\n  mapFilters.classList.remove('ad-form--disabled');\n  mapFilters.disabled = false;\n  enableFormItem(mapFiltersSelect);\n  enableFormItem(mapFiltersFieldset);\n}\nconst enableForm = () => {\n  form.classList.remove('ad-form--disabled');\n  mapFiltersEnabled();\n  enableFormItem(inputFieldset);\n}\n//связываем цену с типом жилища\nconst typePrice = {\n  'bungalow': 0,\n  'flat': 1000,\n  'house': 5000,\n  'palace': 10000,\n};\n\n//извлекаем оттуда массивы отдельно со значениями и ключами\nconst types = Object.keys(typePrice);\nconst prices = Object.values(typePrice);\n\nconst inputPrice = form.querySelector('#price');\nconst selectType = form.querySelector('#type');\n// меняем минимальную цену и плэйсхолдер в зависимости от выбранного жилища\nconst  syncronizeTypePrice = () =>{\n  for (let i = 0; i < types.length; i++) {\n    if (selectType.value === types[i]) {\n      inputPrice.placeholder = prices[i];\n      inputPrice.min = prices[i];\n    }\n  }\n};\n\nconst selectTimeIn = form.querySelector('#timein');\nconst selectTimeOut = form.querySelector('#timeout');\n//синхронизируем время заезда-отъезда\nconst synchronizeTimeIn = () => {\n  for (let i = 0; i < checkHours.length; i++) {\n    if (selectTimeIn.value === checkHours[i]) {\n      selectTimeOut.value = checkHours[i];\n    }\n  }\n} ;\n\nconst synchronizeTimeOut = () => {\n  for (let i = 0; i < checkHours.length; i++) {\n    if (selectTimeOut.value === checkHours[i]) {\n      selectTimeIn.value = checkHours[i];\n    }\n  }\n}\n\nconst selectRoomNumber = form.querySelector('#room_number');\nconst valueOptions = selectRoomNumber.value;\nconst selectGuests = form.querySelector('#capacity');\nconst guestOptions = selectGuests.querySelectorAll('option');\n\n\nconst defaultSelectRoomGuest = () => {\n  const guests = roomToCapaсity[valueOptions];\n  guestOptions.forEach((option) => {\n    option.disabled = true;\n    option.selected = false;\n\n    guests.forEach((guest) => {\n      if (+option.value === +guest) {\n        option.disabled = false;\n        option.selected = true;\n      }\n    })\n  })\n}\nconst synchronizeGuestsRooms = (evt) => {\n  const rooms = roomToCapaсity[evt.target.value];\n  guestOptions.forEach((option) => {\n    option.disabled = true;\n    option.selected = false;\n\n    rooms.forEach((room) => {\n      if (+option.value === +room) {\n        option.disabled = false;\n        option.selected = true;\n      }\n    })\n  })\n}\n\nconst selectedType =  selectType.querySelector('option:checked').value;\n\n//при загрузке страницы минимальная цена и правильный плэйсхолдер, который соответствует выбранному элементу по умолчанию\nconst defineSelected = () =>{\n  for (let i = 0; i < types.length; i++) {\n    if ( selectedType === types[i]) {\n      inputPrice.placeholder = prices[i];\n      inputPrice.min = prices[i];\n    }\n  }\n}\n\n// основная функция синхронизации в форме\nconst setFormHandler = () => {\n  defineSelected();\n  selectTimeIn.addEventListener('change', synchronizeTimeIn);\n  selectTimeOut.addEventListener('change', synchronizeTimeOut);\n  selectType.addEventListener('change', syncronizeTypePrice);\n  defaultSelectRoomGuest();\n  selectRoomNumber.addEventListener('change', synchronizeGuestsRooms);\n}\n\nconst inputTitle = document.querySelector('#title');\n//валидация заголовка\nconst validateInputTitle = () => {\n  const valueLength = inputTitle.value.length;\n\n  if (valueLength < AdvertTitleLength.MIN) {\n    inputTitle.setCustomValidity('Ещё ' + (AdvertTitleLength.MIN - valueLength) +' симв.');\n  } else if (valueLength > AdvertTitleLength.MAX) {\n    inputTitle.setCustomValidity('Удалите лишние ' + (valueLength - AdvertTitleLength.MAX) +' симв.');\n  } else {\n    inputTitle.setCustomValidity('');\n  }\n  inputTitle.reportValidity();\n}\n\n\n\n//валидация цены\nconst validateInputPrice = () => {\n  const validity = inputPrice.validity;\n  if (validity.rangeOverflow) {\n    inputPrice.setCustomValidity (`Максимум ${inputPrice.max} , больше нельзя`);\n  } else if (validity.rangeUnderflow) {\n    inputPrice.setCustomValidity (`Минимум ${inputPrice.min} , меньше нельзя`);\n  } else {\n    inputPrice.setCustomValidity('')\n  }\n  inputPrice.reportValidity();\n}\n\n//общая валидация формы\nconst validateForm = () => {\n  inputTitle.addEventListener('input', validateInputTitle );\n  inputPrice.addEventListener('input', validateInputPrice );\n}\n\n//отправка формы\nconst setFormSubmit = (success, fail) => {\n  form.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n\n    sendData(\n      () => success(),\n      () => fail(),\n      new FormData(evt.target),\n    );\n  });\n};\n\nconst mapFilter = document.querySelector('.map__filters');\nconst resetForm = () => {\n  form.reset();\n  reCreateMap();\n  mapFilter.reset();\n  getAddressDefault();\n  setFormHandler();\n  resetPreviewImages()\n  map.setView(new L.LatLng(centerCoordinates.lat, centerCoordinates.lng), 10);\n  mainPinMarker.setLatLng(new L.LatLng(centerCoordinates.lat, centerCoordinates.lng))\n};\n\nexport { setFormHandler, disabledForm, enableForm, validateForm, setFormSubmit, mapFiltersDisabled, resetForm};\n\n","import {setFormHandler, validateForm, setFormSubmit}  from './form.js';\nimport {onSuccess, onFail}  from './messages.js';\nimport {createMap} from './map.js';\n\nsetFormHandler();\nvalidateForm()\ncreateMap();\nsetFormSubmit(onSuccess, onFail);\n"],"sourceRoot":""}